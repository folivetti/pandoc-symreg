<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="local-6989586621679048945"><span id="local-6989586621679048946"><span id="local-6989586621679048947"><span id="local-6989586621679048948"></span></span></span></span><span class="hs-pragma">{-# language OverloadedStrings #-}</span><span>
</span><span id="line-2"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Text.ParseSR</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Text.ParseSR.html#parseSR"><span class="hs-identifier">parseSR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.ParseSR.html#showOutput"><span class="hs-identifier">showOutput</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.ParseSR.html#SRAlgs"><span class="hs-identifier">SRAlgs</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.ParseSR.html#Output"><span class="hs-identifier">Output</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span> </span><span>
</span><span id="line-3"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Attoparsec.ByteString.Char8</span></span><span>
</span><span id="line-6"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Attoparsec.Expr</span></span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Char8</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">B</span></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-operator">(&lt;|&gt;)</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.SRTree.Print</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">P</span></span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.SRTree</span></span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-comment">-- * Data types</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-comment">-- | Parser of a symbolic regression tree with `Int` variable index and</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- numerical values represented as `Double`. The numerical values type</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- can be changed with `fmap`.</span><span>
</span><span id="line-18"></span><span class="hs-keyword">type</span><span> </span><span id="ParseTree"><span class="annot"><a href="Text.ParseSR.html#ParseTree"><span class="hs-identifier hs-var">ParseTree</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Parser</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SRTree</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-comment">-- * Data types and caller functions</span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span class="hs-comment">-- | Supported algorithms.</span><span>
</span><span id="line-23"></span><span class="hs-keyword">data</span><span> </span><span id="SRAlgs"><span class="annot"><a href="Text.ParseSR.html#SRAlgs"><span class="hs-identifier hs-var">SRAlgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TIR"><span class="annot"><a href="Text.ParseSR.html#TIR"><span class="hs-identifier hs-var">TIR</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="HL"><span class="annot"><a href="Text.ParseSR.html#HL"><span class="hs-identifier hs-var">HL</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="OPERON"><span class="annot"><a href="Text.ParseSR.html#OPERON"><span class="hs-identifier hs-var">OPERON</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="BINGO"><span class="annot"><a href="Text.ParseSR.html#BINGO"><span class="hs-identifier hs-var">BINGO</span></a></span></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679048893"><span id="local-6989586621679048895"><span id="local-6989586621679048897"><span class="annot"><span class="annottext">Int -&gt; SRAlgs -&gt; ShowS
[SRAlgs] -&gt; ShowS
SRAlgs -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SRAlgs] -&gt; ShowS
$cshowList :: [SRAlgs] -&gt; ShowS
show :: SRAlgs -&gt; String
$cshow :: SRAlgs -&gt; String
showsPrec :: Int -&gt; SRAlgs -&gt; ShowS
$cshowsPrec :: Int -&gt; SRAlgs -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679048878"><span id="local-6989586621679048885"><span id="local-6989586621679048888"><span id="local-6989586621679048890"><span class="annot"><span class="annottext">ReadPrec [SRAlgs]
ReadPrec SRAlgs
Int -&gt; ReadS SRAlgs
ReadS [SRAlgs]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [SRAlgs]
$creadListPrec :: ReadPrec [SRAlgs]
readPrec :: ReadPrec SRAlgs
$creadPrec :: ReadPrec SRAlgs
readList :: ReadS [SRAlgs]
$creadList :: ReadS [SRAlgs]
readsPrec :: Int -&gt; ReadS SRAlgs
$creadsPrec :: Int -&gt; ReadS SRAlgs
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679048836"><span id="local-6989586621679048838"><span id="local-6989586621679048842"><span id="local-6989586621679048846"><span id="local-6989586621679048848"><span id="local-6989586621679048861"><span id="local-6989586621679048867"><span id="local-6989586621679048874"><span class="annot"><span class="annottext">Int -&gt; SRAlgs
SRAlgs -&gt; Int
SRAlgs -&gt; [SRAlgs]
SRAlgs -&gt; SRAlgs
SRAlgs -&gt; SRAlgs -&gt; [SRAlgs]
SRAlgs -&gt; SRAlgs -&gt; SRAlgs -&gt; [SRAlgs]
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
enumFromThenTo :: SRAlgs -&gt; SRAlgs -&gt; SRAlgs -&gt; [SRAlgs]
$cenumFromThenTo :: SRAlgs -&gt; SRAlgs -&gt; SRAlgs -&gt; [SRAlgs]
enumFromTo :: SRAlgs -&gt; SRAlgs -&gt; [SRAlgs]
$cenumFromTo :: SRAlgs -&gt; SRAlgs -&gt; [SRAlgs]
enumFromThen :: SRAlgs -&gt; SRAlgs -&gt; [SRAlgs]
$cenumFromThen :: SRAlgs -&gt; SRAlgs -&gt; [SRAlgs]
enumFrom :: SRAlgs -&gt; [SRAlgs]
$cenumFrom :: SRAlgs -&gt; [SRAlgs]
fromEnum :: SRAlgs -&gt; Int
$cfromEnum :: SRAlgs -&gt; Int
toEnum :: Int -&gt; SRAlgs
$ctoEnum :: Int -&gt; SRAlgs
pred :: SRAlgs -&gt; SRAlgs
$cpred :: SRAlgs -&gt; SRAlgs
succ :: SRAlgs -&gt; SRAlgs
$csucc :: SRAlgs -&gt; SRAlgs
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679048831"><span id="local-6989586621679048833"><span class="annot"><span class="annottext">SRAlgs
forall a. a -&gt; a -&gt; Bounded a
maxBound :: SRAlgs
$cmaxBound :: SRAlgs
minBound :: SRAlgs
$cminBound :: SRAlgs
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Bounded</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="hs-comment">-- | Supported outputs.</span><span>
</span><span id="line-26"></span><span class="hs-keyword">data</span><span> </span><span id="Output"><span class="annot"><a href="Text.ParseSR.html#Output"><span class="hs-identifier hs-var">Output</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PYTHON"><span class="annot"><a href="Text.ParseSR.html#PYTHON"><span class="hs-identifier hs-var">PYTHON</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="MATH"><span class="annot"><a href="Text.ParseSR.html#MATH"><span class="hs-identifier hs-var">MATH</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="TIKZ"><span class="annot"><a href="Text.ParseSR.html#TIKZ"><span class="hs-identifier hs-var">TIKZ</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="LATEX"><span class="annot"><a href="Text.ParseSR.html#LATEX"><span class="hs-identifier hs-var">LATEX</span></a></span></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679048819"><span id="local-6989586621679048821"><span id="local-6989586621679048823"><span class="annot"><span class="annottext">Int -&gt; Output -&gt; ShowS
[Output] -&gt; ShowS
Output -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Output] -&gt; ShowS
$cshowList :: [Output] -&gt; ShowS
show :: Output -&gt; String
$cshow :: Output -&gt; String
showsPrec :: Int -&gt; Output -&gt; ShowS
$cshowsPrec :: Int -&gt; Output -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679048806"><span id="local-6989586621679048812"><span id="local-6989586621679048815"><span id="local-6989586621679048817"><span class="annot"><span class="annottext">ReadPrec [Output]
ReadPrec Output
Int -&gt; ReadS Output
ReadS [Output]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [Output]
$creadListPrec :: ReadPrec [Output]
readPrec :: ReadPrec Output
$creadPrec :: ReadPrec Output
readList :: ReadS [Output]
$creadList :: ReadS [Output]
readsPrec :: Int -&gt; ReadS Output
$creadsPrec :: Int -&gt; ReadS Output
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679048769"><span id="local-6989586621679048771"><span id="local-6989586621679048775"><span id="local-6989586621679048778"><span id="local-6989586621679048780"><span id="local-6989586621679048791"><span id="local-6989586621679048797"><span id="local-6989586621679048803"><span class="annot"><span class="annottext">Int -&gt; Output
Output -&gt; Int
Output -&gt; [Output]
Output -&gt; Output
Output -&gt; Output -&gt; [Output]
Output -&gt; Output -&gt; Output -&gt; [Output]
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
enumFromThenTo :: Output -&gt; Output -&gt; Output -&gt; [Output]
$cenumFromThenTo :: Output -&gt; Output -&gt; Output -&gt; [Output]
enumFromTo :: Output -&gt; Output -&gt; [Output]
$cenumFromTo :: Output -&gt; Output -&gt; [Output]
enumFromThen :: Output -&gt; Output -&gt; [Output]
$cenumFromThen :: Output -&gt; Output -&gt; [Output]
enumFrom :: Output -&gt; [Output]
$cenumFrom :: Output -&gt; [Output]
fromEnum :: Output -&gt; Int
$cfromEnum :: Output -&gt; Int
toEnum :: Int -&gt; Output
$ctoEnum :: Int -&gt; Output
pred :: Output -&gt; Output
$cpred :: Output -&gt; Output
succ :: Output -&gt; Output
$csucc :: Output -&gt; Output
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679048765"><span id="local-6989586621679048767"><span class="annot"><span class="annottext">Output
forall a. a -&gt; a -&gt; Bounded a
maxBound :: Output
$cmaxBound :: Output
minBound :: Output
$cminBound :: Output
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Bounded</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="hs-comment">-- | Returns the corresponding function from Data.SRTree.Print for a given `Output`.</span><span>
</span><span id="line-29"></span><span class="annot"><a href="Text.ParseSR.html#showOutput"><span class="hs-identifier hs-type">showOutput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.ParseSR.html#Output"><span class="hs-identifier hs-type">Output</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SRTree</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-30"></span><span id="showOutput"><span class="annot"><span class="annottext">showOutput :: Output -&gt; SRTree Int Double -&gt; String
</span><a href="Text.ParseSR.html#showOutput"><span class="hs-identifier hs-var hs-var">showOutput</span></a></span></span><span> </span><span class="annot"><span class="annottext">Output
</span><a href="Text.ParseSR.html#PYTHON"><span class="hs-identifier hs-var">PYTHON</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {ix} {val}. (Show ix, Show val) =&gt; SRTree ix val -&gt; String
</span><span class="hs-identifier hs-var">P.showPython</span></span><span>
</span><span id="line-31"></span><span class="annot"><a href="Text.ParseSR.html#showOutput"><span class="hs-identifier hs-var">showOutput</span></a></span><span> </span><span class="annot"><span class="annottext">Output
</span><a href="Text.ParseSR.html#MATH"><span class="hs-identifier hs-var">MATH</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {ix} {val}. (Show ix, Show val) =&gt; SRTree ix val -&gt; String
</span><span class="hs-identifier hs-var">P.showDefault</span></span><span>
</span><span id="line-32"></span><span class="annot"><a href="Text.ParseSR.html#showOutput"><span class="hs-identifier hs-var">showOutput</span></a></span><span> </span><span class="annot"><span class="annottext">Output
</span><a href="Text.ParseSR.html#TIKZ"><span class="hs-identifier hs-var">TIKZ</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ix val.
(Show ix, Show val, RealFrac val) =&gt;
SRTree ix val -&gt; String
</span><span class="hs-identifier hs-var">P.showTikz</span></span><span>
</span><span id="line-33"></span><span class="annot"><a href="Text.ParseSR.html#showOutput"><span class="hs-identifier hs-var">showOutput</span></a></span><span> </span><span class="annot"><span class="annottext">Output
</span><a href="Text.ParseSR.html#LATEX"><span class="hs-identifier hs-var">LATEX</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {ix} {val}. (Show ix, Show val) =&gt; SRTree ix val -&gt; String
</span><span class="hs-identifier hs-var">P.showLatex</span></span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span class="hs-comment">-- | Calls the corresponding parser for a given `SRAlgs`</span><span>
</span><span id="line-36"></span><span class="annot"><a href="Text.ParseSR.html#parseSR"><span class="hs-identifier hs-type">parseSR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.ParseSR.html#SRAlgs"><span class="hs-identifier hs-type">SRAlgs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SRTree</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span id="parseSR"><span class="annot"><span class="annottext">parseSR :: SRAlgs
-&gt; ByteString
-&gt; Bool
-&gt; ByteString
-&gt; Either String (SRTree Int Double)
</span><a href="Text.ParseSR.html#parseSR"><span class="hs-identifier hs-var hs-var">parseSR</span></a></span></span><span> </span><span class="annot"><span class="annottext">SRAlgs
</span><a href="Text.ParseSR.html#HL"><span class="hs-identifier hs-var">HL</span></a></span><span>     </span><span id="local-6989586621679048759"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048759"><span class="hs-identifier hs-var">header</span></a></span></span><span> </span><span id="local-6989586621679048758"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679048758"><span class="hs-identifier hs-var">param</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall r. Result r -&gt; Either String r
</span><span class="hs-identifier hs-var">eitherResult</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. Parser a -&gt; ByteString -&gt; Result a
</span><span class="hs-identifier hs-var">parse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; [(ByteString, Int)] -&gt; ParseTree
</span><a href="Text.ParseSR.html#parseHL"><span class="hs-identifier hs-var">parseHL</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679048758"><span class="hs-identifier hs-var">param</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [(ByteString, Int)]
</span><a href="Text.ParseSR.html#splitHeader"><span class="hs-identifier hs-var">splitHeader</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048759"><span class="hs-identifier hs-var">header</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="Text.ParseSR.html#putEOL"><span class="hs-identifier hs-var">putEOL</span></a></span><span>
</span><span id="line-38"></span><span class="annot"><a href="Text.ParseSR.html#parseSR"><span class="hs-identifier hs-var">parseSR</span></a></span><span> </span><span class="annot"><span class="annottext">SRAlgs
</span><a href="Text.ParseSR.html#BINGO"><span class="hs-identifier hs-var">BINGO</span></a></span><span>  </span><span id="local-6989586621679048751"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048751"><span class="hs-identifier hs-var">header</span></a></span></span><span> </span><span id="local-6989586621679048750"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679048750"><span class="hs-identifier hs-var">param</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall r. Result r -&gt; Either String r
</span><span class="hs-identifier hs-var">eitherResult</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. Parser a -&gt; ByteString -&gt; Result a
</span><span class="hs-identifier hs-var">parse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; [(ByteString, Int)] -&gt; ParseTree
</span><a href="Text.ParseSR.html#parseBingo"><span class="hs-identifier hs-var">parseBingo</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679048750"><span class="hs-identifier hs-var">param</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [(ByteString, Int)]
</span><a href="Text.ParseSR.html#splitHeader"><span class="hs-identifier hs-var">splitHeader</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048751"><span class="hs-identifier hs-var">header</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="Text.ParseSR.html#putEOL"><span class="hs-identifier hs-var">putEOL</span></a></span><span>
</span><span id="line-39"></span><span class="annot"><a href="Text.ParseSR.html#parseSR"><span class="hs-identifier hs-var">parseSR</span></a></span><span> </span><span class="annot"><span class="annottext">SRAlgs
</span><a href="Text.ParseSR.html#TIR"><span class="hs-identifier hs-var">TIR</span></a></span><span>    </span><span id="local-6989586621679048748"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048748"><span class="hs-identifier hs-var">header</span></a></span></span><span> </span><span id="local-6989586621679048747"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679048747"><span class="hs-identifier hs-var">param</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall r. Result r -&gt; Either String r
</span><span class="hs-identifier hs-var">eitherResult</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. Parser a -&gt; ByteString -&gt; Result a
</span><span class="hs-identifier hs-var">parse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; [(ByteString, Int)] -&gt; ParseTree
</span><a href="Text.ParseSR.html#parseTIR"><span class="hs-identifier hs-var">parseTIR</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679048747"><span class="hs-identifier hs-var">param</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [(ByteString, Int)]
</span><a href="Text.ParseSR.html#splitHeader"><span class="hs-identifier hs-var">splitHeader</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048748"><span class="hs-identifier hs-var">header</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="Text.ParseSR.html#putEOL"><span class="hs-identifier hs-var">putEOL</span></a></span><span>
</span><span id="line-40"></span><span class="annot"><a href="Text.ParseSR.html#parseSR"><span class="hs-identifier hs-var">parseSR</span></a></span><span> </span><span class="annot"><span class="annottext">SRAlgs
</span><a href="Text.ParseSR.html#OPERON"><span class="hs-identifier hs-var">OPERON</span></a></span><span> </span><span id="local-6989586621679048745"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048745"><span class="hs-identifier hs-var">header</span></a></span></span><span> </span><span id="local-6989586621679048744"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679048744"><span class="hs-identifier hs-var">param</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall r. Result r -&gt; Either String r
</span><span class="hs-identifier hs-var">eitherResult</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. Parser a -&gt; ByteString -&gt; Result a
</span><span class="hs-identifier hs-var">parse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; [(ByteString, Int)] -&gt; ParseTree
</span><a href="Text.ParseSR.html#parseOperon"><span class="hs-identifier hs-var">parseOperon</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679048744"><span class="hs-identifier hs-var">param</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [(ByteString, Int)]
</span><a href="Text.ParseSR.html#splitHeader"><span class="hs-identifier hs-var">splitHeader</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048745"><span class="hs-identifier hs-var">header</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="Text.ParseSR.html#putEOL"><span class="hs-identifier hs-var">putEOL</span></a></span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="hs-comment">-- * Parsers</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="hs-comment">-- | Creates a parser for a binary operator</span><span>
</span><span id="line-45"></span><span id="local-6989586621679049048"><span class="annot"><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-type">binary</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679049048"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679049048"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679049048"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Assoc</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Operator</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span> </span><span class="annot"><a href="#local-6989586621679049048"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-46"></span><span id="binary"><span class="annot"><span class="annottext">binary :: forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var hs-var">binary</span></a></span></span><span> </span><span id="local-6989586621679048739"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048739"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679048738"><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679048738"><span class="hs-identifier hs-var">fun</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall t a. Parser t (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator t a
</span><span class="hs-identifier hs-var">Infix</span></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Parser ByteString
</span><span class="hs-identifier hs-var">string</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048739"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679048738"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span class="hs-comment">-- | Creates a parser for a unary function</span><span>
</span><span id="line-49"></span><span id="local-6989586621679049040"><span class="annot"><a href="Text.ParseSR.html#prefix"><span class="hs-identifier hs-type">prefix</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679049040"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679049040"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Operator</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span> </span><span class="annot"><a href="#local-6989586621679049040"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-50"></span><span id="prefix"><span class="annot"><span class="annottext">prefix :: forall a. ByteString -&gt; (a -&gt; a) -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#prefix"><span class="hs-identifier hs-var hs-var">prefix</span></a></span></span><span>  </span><span id="local-6989586621679048732"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048732"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679048731"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679048731"><span class="hs-identifier hs-var">fun</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall t a. Parser t (a -&gt; a) -&gt; Operator t a
</span><span class="hs-identifier hs-var">Prefix</span></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Parser ByteString
</span><span class="hs-identifier hs-var">string</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048732"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679048731"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span class="hs-comment">-- | Envelopes the parser in parens</span><span>
</span><span id="line-53"></span><span id="local-6989586621679049038"><span class="annot"><a href="Text.ParseSR.html#parens"><span class="hs-identifier hs-type">parens</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Parser</span></span><span> </span><span class="annot"><a href="#local-6989586621679049038"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Parser</span></span><span> </span><span class="annot"><a href="#local-6989586621679049038"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-54"></span><span id="parens"><span class="annot"><span class="annottext">parens :: forall a. Parser a -&gt; Parser a
</span><a href="Text.ParseSR.html#parens"><span class="hs-identifier hs-var hs-var">parens</span></a></span></span><span> </span><span id="local-6989586621679048721"><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679048721"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Parser ByteString
</span><span class="hs-identifier hs-var">string</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;(&quot;</span></span><span class="hs-special">;</span><span> </span><span id="local-6989586621679048720"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048720"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679048721"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Parser ByteString
</span><span class="hs-identifier hs-var">string</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;)&quot;</span></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048720"><span class="hs-identifier hs-var">e'</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="annot"><span class="annottext">forall i a. Parser i a -&gt; String -&gt; Parser i a
</span><span class="hs-operator hs-var">&lt;?&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;parens&quot;</span></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-comment">-- | Parse an expression using a user-defined parser given by the `Operator` lists containing</span><span>
</span><span id="line-57"></span><span class="hs-comment">-- the name of the functions and operators of that SR algorithm, a list of parsers `binFuns` for binary functions</span><span>
</span><span id="line-58"></span><span class="hs-comment">-- a parser `var` for variables, a boolean indicating whether to change floating point values to free</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- parameters variables, and a list of variable names with their corresponding indexes.</span><span>
</span><span id="line-60"></span><span class="annot"><a href="Text.ParseSR.html#parseExpr"><span class="hs-identifier hs-type">parseExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Operator</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SRTree</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Text.ParseSR.html#ParseTree"><span class="hs-identifier hs-type">ParseTree</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.ParseSR.html#ParseTree"><span class="hs-identifier hs-type">ParseTree</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.ParseSR.html#ParseTree"><span class="hs-identifier hs-type">ParseTree</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.ParseSR.html#ParseTree"><span class="hs-identifier hs-type">ParseTree</span></a></span><span>
</span><span id="line-61"></span><span id="parseExpr"><span class="annot"><span class="annottext">parseExpr :: [[Operator ByteString (SRTree Int Double)]]
-&gt; [ParseTree -&gt; ParseTree]
-&gt; ParseTree
-&gt; Bool
-&gt; [(ByteString, Int)]
-&gt; ParseTree
</span><a href="Text.ParseSR.html#parseExpr"><span class="hs-identifier hs-var hs-var">parseExpr</span></a></span></span><span> </span><span id="local-6989586621679048717"><span class="annot"><span class="annottext">[[Operator ByteString (SRTree Int Double)]]
</span><a href="#local-6989586621679048717"><span class="hs-identifier hs-var">table</span></a></span></span><span> </span><span id="local-6989586621679048716"><span class="annot"><span class="annottext">[ParseTree -&gt; ParseTree]
</span><a href="#local-6989586621679048716"><span class="hs-identifier hs-var">binFuns</span></a></span></span><span> </span><span id="local-6989586621679048715"><span class="annot"><span class="annottext">ParseTree
</span><a href="#local-6989586621679048715"><span class="hs-identifier hs-var">var</span></a></span></span><span> </span><span id="local-6989586621679048714"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679048714"><span class="hs-identifier hs-var">param</span></a></span></span><span> </span><span id="local-6989586621679048713"><span class="annot"><span class="annottext">[(ByteString, Int)]
</span><a href="#local-6989586621679048713"><span class="hs-identifier hs-var">header</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ix val. Num ix =&gt; SRTree ix val -&gt; SRTree ix val
</span><span class="hs-identifier hs-var">relabelParams</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ParseTree
</span><a href="#local-6989586621679048710"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-63"></span><span>    </span><span id="local-6989586621679048696"><span class="annot"><span class="annottext">term :: ParseTree
</span><a href="#local-6989586621679048696"><span class="hs-identifier hs-var hs-var">term</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Parser a -&gt; Parser a
</span><a href="Text.ParseSR.html#parens"><span class="hs-identifier hs-var">parens</span></a></span><span> </span><span class="annot"><span class="annottext">ParseTree
</span><a href="#local-6989586621679048710"><span class="hs-identifier hs-var">expr</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; Parser a -&gt; Parser a
</span><a href="Text.ParseSR.html#enclosedAbs"><span class="hs-identifier hs-var">enclosedAbs</span></a></span><span> </span><span class="annot"><span class="annottext">ParseTree
</span><a href="#local-6989586621679048710"><span class="hs-identifier hs-var">expr</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; [f a] -&gt; f a
</span><span class="hs-identifier hs-var">choice</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ParseTree
</span><a href="#local-6989586621679048710"><span class="hs-identifier hs-var">expr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ParseTree -&gt; ParseTree]
</span><a href="#local-6989586621679048716"><span class="hs-identifier hs-var">binFuns</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">ParseTree
</span><a href="#local-6989586621679048693"><span class="hs-identifier hs-var">coef</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">ParseTree
</span><a href="#local-6989586621679048692"><span class="hs-identifier hs-var">varC</span></a></span><span> </span><span class="annot"><span class="annottext">forall i a. Parser i a -&gt; String -&gt; Parser i a
</span><span class="hs-operator hs-var">&lt;?&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;term&quot;</span></span><span>
</span><span id="line-64"></span><span>    </span><span id="local-6989586621679048710"><span class="annot"><span class="annottext">expr :: ParseTree
</span><a href="#local-6989586621679048710"><span class="hs-identifier hs-var hs-var">expr</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall t b.
Monoid t =&gt;
[[Operator t b]] -&gt; Parser t b -&gt; Parser t b
</span><span class="hs-identifier hs-var">buildExpressionParser</span></span><span> </span><span class="annot"><span class="annottext">[[Operator ByteString (SRTree Int Double)]]
</span><a href="#local-6989586621679048717"><span class="hs-identifier hs-var">table</span></a></span><span> </span><span class="annot"><span class="annottext">ParseTree
</span><a href="#local-6989586621679048696"><span class="hs-identifier hs-var">term</span></a></span><span>
</span><span id="line-65"></span><span>    </span><span id="local-6989586621679048693"><span class="annot"><span class="annottext">coef :: ParseTree
</span><a href="#local-6989586621679048693"><span class="hs-identifier hs-var hs-var">coef</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679048714"><span class="hs-identifier hs-var">param</span></a></span><span> </span><span>
</span><span id="line-66"></span><span>              </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679048682"><span class="annot"><span class="annottext">Either Int Double
</span><a href="#local-6989586621679048682"><span class="hs-identifier hs-var">eNumber</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Parser (Either Int Double)
</span><a href="Text.ParseSR.html#intOrDouble"><span class="hs-identifier hs-var">intOrDouble</span></a></span><span>
</span><span id="line-67"></span><span>                      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either Int Double
</span><a href="#local-6989586621679048682"><span class="hs-identifier hs-var">eNumber</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-68"></span><span>                        </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679048680"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679048680"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall ix val. val -&gt; SRTree ix val
</span><span class="hs-identifier hs-var">Const</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679048680"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>                        </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall ix val. ix -&gt; SRTree ix val
</span><span class="hs-identifier hs-var">Param</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-70"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall ix val. val -&gt; SRTree ix val
</span><span class="hs-identifier hs-var">Const</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; Parser a -&gt; Parser a
</span><span class="hs-identifier hs-var">signed</span></span><span> </span><span class="annot"><span class="annottext">Parser Double
</span><span class="hs-identifier hs-var">double</span></span><span> </span><span class="annot"><span class="annottext">forall i a. Parser i a -&gt; String -&gt; Parser i a
</span><span class="hs-operator hs-var">&lt;?&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;const&quot;</span></span><span>
</span><span id="line-71"></span><span>    </span><span id="local-6989586621679048692"><span class="annot"><span class="annottext">varC :: ParseTree
</span><a href="#local-6989586621679048692"><span class="hs-identifier hs-var hs-var">varC</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[(ByteString, Int)]
</span><a href="#local-6989586621679048713"><span class="hs-identifier hs-var">header</span></a></span><span>
</span><span id="line-72"></span><span>             </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ParseTree
</span><a href="#local-6989586621679048715"><span class="hs-identifier hs-var">var</span></a></span><span>
</span><span id="line-73"></span><span>             </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ParseTree
</span><a href="#local-6989586621679048715"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall {val}. Parser ByteString (SRTree Int val)
</span><a href="#local-6989586621679048671"><span class="hs-identifier hs-var">varHeader</span></a></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span>    </span><span id="local-6989586621679048671"><span class="annot"><span class="annottext">varHeader :: Parser ByteString (SRTree Int val)
</span><a href="#local-6989586621679048671"><span class="hs-identifier hs-var hs-var">varHeader</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; [f a] -&gt; f a
</span><span class="hs-identifier hs-var">choice</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">forall {ix} {val}.
ByteString -&gt; ix -&gt; Parser ByteString (SRTree ix val)
</span><a href="#local-6989586621679048668"><span class="hs-identifier hs-var">getParserVar</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(ByteString, Int)]
</span><a href="#local-6989586621679048713"><span class="hs-identifier hs-var">header</span></a></span><span>
</span><span id="line-76"></span><span>    </span><span id="local-6989586621679048668"><span class="annot"><span class="annottext">getParserVar :: ByteString -&gt; ix -&gt; Parser ByteString (SRTree ix val)
</span><a href="#local-6989586621679048668"><span class="hs-identifier hs-var hs-var">getParserVar</span></a></span></span><span> </span><span id="local-6989586621679048663"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048663"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679048662"><span class="annot"><span class="annottext">ix
</span><a href="#local-6989586621679048662"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Parser ByteString
</span><span class="hs-identifier hs-var">string</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048663"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall {b}. IsString b =&gt; ByteString -&gt; Parser ByteString b
</span><a href="#local-6989586621679048661"><span class="hs-identifier hs-var">enveloped</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048663"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ix val. ix -&gt; SRTree ix val
</span><span class="hs-identifier hs-var">Var</span></span><span> </span><span class="annot"><span class="annottext">ix
</span><a href="#local-6989586621679048662"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span>    </span><span id="local-6989586621679048661"><span class="annot"><span class="annottext">enveloped :: ByteString -&gt; Parser ByteString b
</span><a href="#local-6989586621679048661"><span class="hs-identifier hs-var hs-var">enveloped</span></a></span></span><span> </span><span id="local-6989586621679048651"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048651"><span class="hs-identifier hs-var">s</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Parser ByteString Char
</span><span class="hs-identifier hs-var">char</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Parser ByteString Char
</span><span class="hs-identifier hs-var">char</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'('</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Parser ByteString
</span><span class="hs-identifier hs-var">string</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048651"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Parser ByteString Char
</span><span class="hs-identifier hs-var">char</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Parser ByteString Char
</span><span class="hs-identifier hs-var">char</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">')'</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span id="local-6989586621679049002"><span class="annot"><a href="Text.ParseSR.html#enumerate"><span class="hs-identifier hs-type">enumerate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679049002"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679049002"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-special">]</span></span><span>
</span><span id="line-80"></span><span id="enumerate"><span class="annot"><span class="annottext">enumerate :: forall a. [a] -&gt; [(a, Int)]
</span><a href="Text.ParseSR.html#enumerate"><span class="hs-identifier hs-var hs-var">enumerate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-operator hs-var">`zip`</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="annot"><a href="Text.ParseSR.html#splitHeader"><span class="hs-identifier hs-type">splitHeader</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-83"></span><span id="splitHeader"><span class="annot"><span class="annottext">splitHeader :: ByteString -&gt; [(ByteString, Int)]
</span><a href="Text.ParseSR.html#splitHeader"><span class="hs-identifier hs-var hs-var">splitHeader</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [(a, Int)]
</span><a href="Text.ParseSR.html#enumerate"><span class="hs-identifier hs-var">enumerate</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; ByteString -&gt; [ByteString]
</span><span class="hs-identifier hs-var">B.split</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">','</span></span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="hs-comment">-- | Tries to parse as an `Int`, if it fails, </span><span>
</span><span id="line-86"></span><span class="hs-comment">-- parse as a Double.</span><span>
</span><span id="line-87"></span><span class="annot"><a href="Text.ParseSR.html#intOrDouble"><span class="hs-identifier hs-type">intOrDouble</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Parser</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span id="intOrDouble"><span class="annot"><span class="annottext">intOrDouble :: Parser (Either Int Double)
</span><a href="Text.ParseSR.html#intOrDouble"><span class="hs-identifier hs-var hs-var">intOrDouble</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b.
Alternative f =&gt;
f a -&gt; f b -&gt; f (Either a b)
</span><span class="hs-identifier hs-var">eitherP</span></span><span> </span><span class="annot"><span class="annottext">Parser Int
</span><a href="#local-6989586621679048645"><span class="hs-identifier hs-var">parseInt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Num a =&gt; Parser a -&gt; Parser a
</span><span class="hs-identifier hs-var">signed</span></span><span> </span><span class="annot"><span class="annottext">Parser Double
</span><span class="hs-identifier hs-var">double</span></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-90"></span><span>      </span><span class="annot"><a href="#local-6989586621679048645"><span class="hs-identifier hs-type">parseInt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-91"></span><span>      </span><span id="local-6989586621679048645"><span class="annot"><span class="annottext">parseInt :: Parser Int
</span><a href="#local-6989586621679048645"><span class="hs-identifier hs-var hs-var">parseInt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679048644"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679048644"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; Parser a -&gt; Parser a
</span><span class="hs-identifier hs-var">signed</span></span><span> </span><span class="annot"><span class="annottext">forall a. Integral a =&gt; Parser a
</span><span class="hs-identifier hs-var">decimal</span></span><span>
</span><span id="line-92"></span><span>                    </span><span id="local-6989586621679048642"><span class="annot"><span class="annottext">Maybe Char
</span><a href="#local-6989586621679048642"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Parser (Maybe Char)
</span><span class="hs-identifier hs-var">peekChar</span></span><span>
</span><span id="line-93"></span><span>                    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Char
</span><a href="#local-6989586621679048642"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-keyword">of</span><span>                      </span><span>
</span><span id="line-94"></span><span>                      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'.'</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Parser ByteString Char
</span><span class="hs-identifier hs-var">digit</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-95"></span><span>                      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'e'</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Parser ByteString Char
</span><span class="hs-identifier hs-var">digit</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-96"></span><span>                      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'E'</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Parser ByteString Char
</span><span class="hs-identifier hs-var">digit</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-97"></span><span>                      </span><span class="annot"><span class="annottext">Maybe Char
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679048644"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="annot"><a href="Text.ParseSR.html#putEOL"><span class="hs-identifier hs-type">putEOL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span>
</span><span id="line-100"></span><span id="putEOL"><span class="annot"><span class="annottext">putEOL :: ByteString -&gt; ByteString
</span><a href="Text.ParseSR.html#putEOL"><span class="hs-identifier hs-var hs-var">putEOL</span></a></span></span><span> </span><span id="local-6989586621679048639"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048639"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Char
</span><span class="hs-identifier hs-var">B.last</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048639"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\n'</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048639"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-101"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Char -&gt; ByteString
</span><span class="hs-identifier hs-var">B.snoc</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048639"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\n'</span></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-comment">-- * Special case functions</span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="hs-comment">-- | analytic quotient</span><span>
</span><span id="line-106"></span><span id="local-6989586621679048993"><span class="annot"><a href="Text.ParseSR.html#aq"><span class="hs-identifier hs-type">aq</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="#local-6989586621679048993"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048993"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048993"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048993"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-107"></span><span id="aq"><span class="annot"><span class="annottext">aq :: forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><a href="Text.ParseSR.html#aq"><span class="hs-identifier hs-var hs-var">aq</span></a></span></span><span> </span><span id="local-6989586621679048624"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048624"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679048623"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048623"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048624"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048623"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="hs-comment">-- Parse `abs` functions as | x |</span><span>
</span><span id="line-110"></span><span id="local-6989586621679049025"><span class="annot"><a href="Text.ParseSR.html#enclosedAbs"><span class="hs-identifier hs-type">enclosedAbs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621679049025"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Parser</span></span><span> </span><span class="annot"><a href="#local-6989586621679049025"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Parser</span></span><span> </span><span class="annot"><a href="#local-6989586621679049025"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-111"></span><span id="enclosedAbs"><span class="annot"><span class="annottext">enclosedAbs :: forall a. Num a =&gt; Parser a -&gt; Parser a
</span><a href="Text.ParseSR.html#enclosedAbs"><span class="hs-identifier hs-var hs-var">enclosedAbs</span></a></span></span><span> </span><span id="local-6989586621679048612"><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679048612"><span class="hs-identifier hs-var">expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Parser ByteString Char
</span><span class="hs-identifier hs-var">char</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'|'</span></span><span>
</span><span id="line-112"></span><span>                      </span><span id="local-6989586621679048611"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048611"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679048612"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-113"></span><span>                      </span><span class="annot"><span class="annottext">Char -&gt; Parser ByteString Char
</span><span class="hs-identifier hs-var">char</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'|'</span></span><span>
</span><span id="line-114"></span><span>                      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048611"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-comment">-- | Parser for binary functions</span><span>
</span><span id="line-117"></span><span id="local-6989586621679048985"><span class="annot"><a href="Text.ParseSR.html#binFun"><span class="hs-identifier hs-type">binFun</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679048985"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048985"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048985"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Parser</span></span><span> </span><span class="annot"><a href="#local-6989586621679048985"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Parser</span></span><span> </span><span class="annot"><a href="#local-6989586621679048985"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-118"></span><span id="binFun"><span class="annot"><span class="annottext">binFun :: forall a. ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Parser a -&gt; Parser a
</span><a href="Text.ParseSR.html#binFun"><span class="hs-identifier hs-var hs-var">binFun</span></a></span></span><span> </span><span id="local-6989586621679048590"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048590"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679048589"><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679048589"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679048588"><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679048588"><span class="hs-identifier hs-var">expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Parser ByteString
</span><span class="hs-identifier hs-var">string</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679048590"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-119"></span><span>                        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadPlus m =&gt; m a -&gt; m [a]
</span><span class="hs-identifier hs-var">many'</span></span><span> </span><span class="annot"><span class="annottext">Parser ByteString Char
</span><span class="hs-identifier hs-var">space</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Parser ByteString Char
</span><span class="hs-identifier hs-var">char</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'('</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadPlus m =&gt; m a -&gt; m [a]
</span><span class="hs-identifier hs-var">many'</span></span><span> </span><span class="annot"><span class="annottext">Parser ByteString Char
</span><span class="hs-identifier hs-var">space</span></span><span>
</span><span id="line-120"></span><span>                        </span><span id="local-6989586621679048585"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048585"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679048588"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-121"></span><span>                        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadPlus m =&gt; m a -&gt; m [a]
</span><span class="hs-identifier hs-var">many'</span></span><span> </span><span class="annot"><span class="annottext">Parser ByteString Char
</span><span class="hs-identifier hs-var">space</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Parser ByteString Char
</span><span class="hs-identifier hs-var">char</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">','</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadPlus m =&gt; m a -&gt; m [a]
</span><span class="hs-identifier hs-var">many'</span></span><span> </span><span class="annot"><span class="annottext">Parser ByteString Char
</span><span class="hs-identifier hs-var">space</span></span><span> </span><span class="hs-comment">-- many' space &gt;&gt; char ',' &gt;&gt; many' space</span><span>
</span><span id="line-122"></span><span>                        </span><span id="local-6989586621679048584"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048584"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679048588"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-123"></span><span>                        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadPlus m =&gt; m a -&gt; m [a]
</span><span class="hs-identifier hs-var">many'</span></span><span> </span><span class="annot"><span class="annottext">Parser ByteString Char
</span><span class="hs-identifier hs-var">space</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Parser ByteString Char
</span><span class="hs-identifier hs-var">char</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">')'</span></span><span>
</span><span id="line-124"></span><span>                        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679048589"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048585"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048584"><span class="hs-identifier hs-var">e2</span></a></span><span> </span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="hs-comment">-- * Custom parsers for SR algorithms</span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="hs-comment">-- | parser for Transformation-Interaction-Rational.</span><span>
</span><span id="line-129"></span><span class="annot"><a href="Text.ParseSR.html#parseTIR"><span class="hs-identifier hs-type">parseTIR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.ParseSR.html#ParseTree"><span class="hs-identifier hs-type">ParseTree</span></a></span><span>
</span><span id="line-130"></span><span id="parseTIR"><span class="annot"><span class="annottext">parseTIR :: Bool -&gt; [(ByteString, Int)] -&gt; ParseTree
</span><a href="Text.ParseSR.html#parseTIR"><span class="hs-identifier hs-var hs-var">parseTIR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[Operator ByteString (SRTree Int Double)]]
-&gt; [ParseTree -&gt; ParseTree]
-&gt; ParseTree
-&gt; Bool
-&gt; [(ByteString, Int)]
-&gt; ParseTree
</span><a href="Text.ParseSR.html#parseExpr"><span class="hs-identifier hs-var">parseExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Operator ByteString (SRTree Int Double)]
</span><a href="#local-6989586621679048583"><span class="hs-identifier hs-var">prefixOps</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[[Operator ByteString (SRTree Int Double)]]
</span><a href="#local-6989586621679048582"><span class="hs-identifier hs-var">binOps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall {a}. [a]
</span><a href="#local-6989586621679048581"><span class="hs-identifier hs-var">binFuns</span></a></span><span> </span><span class="annot"><span class="annottext">forall {val}. Parser ByteString (SRTree Int val)
</span><a href="#local-6989586621679048580"><span class="hs-identifier hs-var">var</span></a></span><span>
</span><span id="line-131"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-132"></span><span>    </span><span id="local-6989586621679048581"><span class="annot"><span class="annottext">binFuns :: [a]
</span><a href="#local-6989586621679048581"><span class="hs-identifier hs-var hs-var">binFuns</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-133"></span><span>    </span><span id="local-6989586621679048583"><span class="annot"><span class="annottext">prefixOps :: [Operator ByteString (SRTree Int Double)]
</span><a href="#local-6989586621679048583"><span class="hs-identifier hs-var hs-var">prefixOps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">forall a. ByteString -&gt; (a -&gt; a) -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#prefix"><span class="hs-identifier hs-var">prefix</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>                </span><span class="hs-special">[</span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;Id&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;Abs&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;Sinh&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sinh</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;Cosh&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cosh</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;Tanh&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">tanh</span></span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;Sin&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sin</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;Cos&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cos</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;Tan&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">tan</span></span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;ASinh&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">asinh</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;ACosh&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">acosh</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;ATanh&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">atanh</span></span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;ASin&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">asin</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;ACos&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">acos</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;ATan&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">atan</span></span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;Sqrt&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;Cbrt&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall ix val. Function -&gt; SRTree ix val -&gt; SRTree ix val
</span><span class="hs-identifier hs-var">Fun</span></span><span> </span><span class="annot"><span class="annottext">Function
</span><span class="hs-identifier hs-var">Cbrt</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;Square&quot;</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">**</span></span><span class="annot"><span class="annottext">SRTree Int Double
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;Log&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;Exp&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span>                </span><span class="hs-special">]</span><span>
</span><span id="line-142"></span><span>    </span><span id="local-6989586621679048582"><span class="annot"><span class="annottext">binOps :: [[Operator ByteString (SRTree Int Double)]]
</span><a href="#local-6989586621679048582"><span class="hs-identifier hs-var hs-var">binOps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var">binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;^&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall ix val. SRTree ix val -&gt; SRTree ix val -&gt; SRTree ix val
</span><span class="hs-identifier hs-var">Power</span></span><span> </span><span class="annot"><span class="annottext">Assoc
</span><span class="hs-identifier hs-var">AssocLeft</span></span><span class="hs-special">]</span><span>
</span><span id="line-143"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var">binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot; * &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Assoc
</span><span class="hs-identifier hs-var">AssocLeft</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var">binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot; / &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="annot"><span class="annottext">Assoc
</span><span class="hs-identifier hs-var">AssocLeft</span></span><span class="hs-special">]</span><span>
</span><span id="line-144"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var">binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot; + &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span> </span><span class="annot"><span class="annottext">Assoc
</span><span class="hs-identifier hs-var">AssocLeft</span></span><span class="hs-special">]</span><span>
</span><span id="line-145"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-146"></span><span>    </span><span id="local-6989586621679048580"><span class="annot"><span class="annottext">var :: Parser ByteString (SRTree Int val)
</span><a href="#local-6989586621679048580"><span class="hs-identifier hs-var hs-var">var</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Parser ByteString Char
</span><span class="hs-identifier hs-var">char</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'x'</span></span><span>
</span><span id="line-147"></span><span>             </span><span id="local-6989586621679048498"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679048498"><span class="hs-identifier hs-var">ix</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. Integral a =&gt; Parser a
</span><span class="hs-identifier hs-var">decimal</span></span><span>
</span><span id="line-148"></span><span>             </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall ix val. ix -&gt; SRTree ix val
</span><span class="hs-identifier hs-var">Var</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679048498"><span class="hs-identifier hs-var">ix</span></a></span><span>
</span><span id="line-149"></span><span>          </span><span class="annot"><span class="annottext">forall i a. Parser i a -&gt; String -&gt; Parser i a
</span><span class="hs-operator hs-var">&lt;?&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;var&quot;</span></span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span class="hs-comment">-- | parser for Operon.</span><span>
</span><span id="line-152"></span><span class="annot"><a href="Text.ParseSR.html#parseOperon"><span class="hs-identifier hs-type">parseOperon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.ParseSR.html#ParseTree"><span class="hs-identifier hs-type">ParseTree</span></a></span><span>
</span><span id="line-153"></span><span id="parseOperon"><span class="annot"><span class="annottext">parseOperon :: Bool -&gt; [(ByteString, Int)] -&gt; ParseTree
</span><a href="Text.ParseSR.html#parseOperon"><span class="hs-identifier hs-var hs-var">parseOperon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[Operator ByteString (SRTree Int Double)]]
-&gt; [ParseTree -&gt; ParseTree]
-&gt; ParseTree
-&gt; Bool
-&gt; [(ByteString, Int)]
-&gt; ParseTree
</span><a href="Text.ParseSR.html#parseExpr"><span class="hs-identifier hs-var">parseExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Operator ByteString (SRTree Int Double)]
</span><a href="#local-6989586621679048497"><span class="hs-identifier hs-var">prefixOps</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[[Operator ByteString (SRTree Int Double)]]
</span><a href="#local-6989586621679048496"><span class="hs-identifier hs-var">binOps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall {ix} {val}.
[Parser (SRTree ix val) -&gt; Parser (SRTree ix val)]
</span><a href="#local-6989586621679048495"><span class="hs-identifier hs-var">binFuns</span></a></span><span> </span><span class="annot"><span class="annottext">forall {val}. Parser ByteString (SRTree Int val)
</span><a href="#local-6989586621679048494"><span class="hs-identifier hs-var">var</span></a></span><span>
</span><span id="line-154"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-155"></span><span>    </span><span id="local-6989586621679048495"><span class="annot"><span class="annottext">binFuns :: [Parser (SRTree ix val) -&gt; Parser (SRTree ix val)]
</span><a href="#local-6989586621679048495"><span class="hs-identifier hs-var hs-var">binFuns</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">forall a. ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Parser a -&gt; Parser a
</span><a href="Text.ParseSR.html#binFun"><span class="hs-identifier hs-var">binFun</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;pow&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall ix val. SRTree ix val -&gt; SRTree ix val -&gt; SRTree ix val
</span><span class="hs-identifier hs-var">Power</span></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-156"></span><span>    </span><span id="local-6989586621679048497"><span class="annot"><span class="annottext">prefixOps :: [Operator ByteString (SRTree Int Double)]
</span><a href="#local-6989586621679048497"><span class="hs-identifier hs-var hs-var">prefixOps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">forall a. ByteString -&gt; (a -&gt; a) -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#prefix"><span class="hs-identifier hs-var">prefix</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span>                </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;abs&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;cbrt&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall ix val. Function -&gt; SRTree ix val -&gt; SRTree ix val
</span><span class="hs-identifier hs-var">Fun</span></span><span> </span><span class="annot"><span class="annottext">Function
</span><span class="hs-identifier hs-var">Cbrt</span></span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;acos&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">acos</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;cosh&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cosh</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;cos&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cos</span></span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;asin&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">asin</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;sinh&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sinh</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;sin&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sin</span></span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;exp&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;log&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;sqrt&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;square&quot;</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">**</span></span><span class="annot"><span class="annottext">SRTree Int Double
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-162"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;atan&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">atan</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;tanh&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">tanh</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;tan&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">tan</span></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>                </span><span class="hs-special">]</span><span>
</span><span id="line-164"></span><span>    </span><span id="local-6989586621679048496"><span class="annot"><span class="annottext">binOps :: [[Operator ByteString (SRTree Int Double)]]
</span><a href="#local-6989586621679048496"><span class="hs-identifier hs-var hs-var">binOps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var">binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;^&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall ix val. SRTree ix val -&gt; SRTree ix val -&gt; SRTree ix val
</span><span class="hs-identifier hs-var">Power</span></span><span> </span><span class="annot"><span class="annottext">Assoc
</span><span class="hs-identifier hs-var">AssocLeft</span></span><span class="hs-special">]</span><span>
</span><span id="line-165"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var">binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot; * &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Assoc
</span><span class="hs-identifier hs-var">AssocLeft</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var">binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot; / &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="annot"><span class="annottext">Assoc
</span><span class="hs-identifier hs-var">AssocLeft</span></span><span class="hs-special">]</span><span>
</span><span id="line-166"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var">binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot; + &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span> </span><span class="annot"><span class="annottext">Assoc
</span><span class="hs-identifier hs-var">AssocLeft</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var">binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot; - &quot;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Assoc
</span><span class="hs-identifier hs-var">AssocLeft</span></span><span class="hs-special">]</span><span>
</span><span id="line-167"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-168"></span><span>    </span><span id="local-6989586621679048494"><span class="annot"><span class="annottext">var :: Parser ByteString (SRTree Int val)
</span><a href="#local-6989586621679048494"><span class="hs-identifier hs-var hs-var">var</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Parser ByteString Char
</span><span class="hs-identifier hs-var">char</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'X'</span></span><span>
</span><span id="line-169"></span><span>             </span><span id="local-6989586621679048439"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679048439"><span class="hs-identifier hs-var">ix</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. Integral a =&gt; Parser a
</span><span class="hs-identifier hs-var">decimal</span></span><span>
</span><span id="line-170"></span><span>             </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall ix val. ix -&gt; SRTree ix val
</span><span class="hs-identifier hs-var">Var</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679048439"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Operon is not 0-based</span><span>
</span><span id="line-171"></span><span>          </span><span class="annot"><span class="annottext">forall i a. Parser i a -&gt; String -&gt; Parser i a
</span><span class="hs-operator hs-var">&lt;?&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;var&quot;</span></span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span class="hs-comment">-- | parser for HeuristicLab.</span><span>
</span><span id="line-174"></span><span class="annot"><a href="Text.ParseSR.html#parseHL"><span class="hs-identifier hs-type">parseHL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.ParseSR.html#ParseTree"><span class="hs-identifier hs-type">ParseTree</span></a></span><span>
</span><span id="line-175"></span><span id="parseHL"><span class="annot"><span class="annottext">parseHL :: Bool -&gt; [(ByteString, Int)] -&gt; ParseTree
</span><a href="Text.ParseSR.html#parseHL"><span class="hs-identifier hs-var hs-var">parseHL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[Operator ByteString (SRTree Int Double)]]
-&gt; [ParseTree -&gt; ParseTree]
-&gt; ParseTree
-&gt; Bool
-&gt; [(ByteString, Int)]
-&gt; ParseTree
</span><a href="Text.ParseSR.html#parseExpr"><span class="hs-identifier hs-var">parseExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Operator ByteString (SRTree Int Double)]
</span><a href="#local-6989586621679048438"><span class="hs-identifier hs-var">prefixOps</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[[Operator ByteString (SRTree Int Double)]]
</span><a href="#local-6989586621679048437"><span class="hs-identifier hs-var">binOps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ParseTree -&gt; ParseTree]
</span><a href="#local-6989586621679048436"><span class="hs-identifier hs-var">binFuns</span></a></span><span> </span><span class="annot"><span class="annottext">forall {val}. Parser ByteString (SRTree Int val)
</span><a href="#local-6989586621679048435"><span class="hs-identifier hs-var">var</span></a></span><span>
</span><span id="line-176"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-177"></span><span>    </span><span id="local-6989586621679048436"><span class="annot"><span class="annottext">binFuns :: [ParseTree -&gt; ParseTree]
</span><a href="#local-6989586621679048436"><span class="hs-identifier hs-var hs-var">binFuns</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">forall a. ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Parser a -&gt; Parser a
</span><a href="Text.ParseSR.html#binFun"><span class="hs-identifier hs-var">binFun</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;aq&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><a href="Text.ParseSR.html#aq"><span class="hs-identifier hs-var">aq</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-178"></span><span>    </span><span id="local-6989586621679048438"><span class="annot"><span class="annottext">prefixOps :: [Operator ByteString (SRTree Int Double)]
</span><a href="#local-6989586621679048438"><span class="hs-identifier hs-var hs-var">prefixOps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">forall a. ByteString -&gt; (a -&gt; a) -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#prefix"><span class="hs-identifier hs-var">prefix</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>                </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;logabs&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;sqrtabs&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- the longer versions should come first</span><span>
</span><span id="line-180"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;abs&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;exp&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;log&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;sqrt&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;sqr&quot;</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">**</span></span><span class="annot"><span class="annottext">SRTree Int Double
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;cube&quot;</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">**</span></span><span class="annot"><span class="annottext">SRTree Int Double
</span><span class="hs-number">3</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;cbrt&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall ix val. Function -&gt; SRTree ix val -&gt; SRTree ix val
</span><span class="hs-identifier hs-var">Fun</span></span><span> </span><span class="annot"><span class="annottext">Function
</span><span class="hs-identifier hs-var">Cbrt</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;sin&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sin</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;cos&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cos</span></span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;tan&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">tan</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;tanh&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">tanh</span></span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>                </span><span class="hs-special">]</span><span>
</span><span id="line-185"></span><span>    </span><span id="local-6989586621679048437"><span class="annot"><span class="annottext">binOps :: [[Operator ByteString (SRTree Int Double)]]
</span><a href="#local-6989586621679048437"><span class="hs-identifier hs-var hs-var">binOps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var">binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;^&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall ix val. SRTree ix val -&gt; SRTree ix val -&gt; SRTree ix val
</span><span class="hs-identifier hs-var">Power</span></span><span> </span><span class="annot"><span class="annottext">Assoc
</span><span class="hs-identifier hs-var">AssocLeft</span></span><span class="hs-special">]</span><span>
</span><span id="line-186"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var">binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot; * &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Assoc
</span><span class="hs-identifier hs-var">AssocLeft</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var">binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot; / &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="annot"><span class="annottext">Assoc
</span><span class="hs-identifier hs-var">AssocLeft</span></span><span class="hs-special">]</span><span>
</span><span id="line-187"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var">binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot; + &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span> </span><span class="annot"><span class="annottext">Assoc
</span><span class="hs-identifier hs-var">AssocLeft</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var">binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot; - &quot;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Assoc
</span><span class="hs-identifier hs-var">AssocLeft</span></span><span class="hs-special">]</span><span>
</span><span id="line-188"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-189"></span><span>    </span><span id="local-6989586621679048435"><span class="annot"><span class="annottext">var :: Parser ByteString (SRTree Int val)
</span><a href="#local-6989586621679048435"><span class="hs-identifier hs-var hs-var">var</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Parser ByteString Char
</span><span class="hs-identifier hs-var">char</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'x'</span></span><span>
</span><span id="line-190"></span><span>             </span><span id="local-6989586621679048379"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679048379"><span class="hs-identifier hs-var">ix</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. Integral a =&gt; Parser a
</span><span class="hs-identifier hs-var">decimal</span></span><span>
</span><span id="line-191"></span><span>             </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall ix val. ix -&gt; SRTree ix val
</span><span class="hs-identifier hs-var">Var</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679048379"><span class="hs-identifier hs-var">ix</span></a></span><span>
</span><span id="line-192"></span><span>          </span><span class="annot"><span class="annottext">forall i a. Parser i a -&gt; String -&gt; Parser i a
</span><span class="hs-operator hs-var">&lt;?&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;var&quot;</span></span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span class="hs-comment">-- | parser for Bingo</span><span>
</span><span id="line-195"></span><span class="annot"><a href="Text.ParseSR.html#parseBingo"><span class="hs-identifier hs-type">parseBingo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.ParseSR.html#ParseTree"><span class="hs-identifier hs-type">ParseTree</span></a></span><span>
</span><span id="line-196"></span><span id="parseBingo"><span class="annot"><span class="annottext">parseBingo :: Bool -&gt; [(ByteString, Int)] -&gt; ParseTree
</span><a href="Text.ParseSR.html#parseBingo"><span class="hs-identifier hs-var hs-var">parseBingo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[Operator ByteString (SRTree Int Double)]]
-&gt; [ParseTree -&gt; ParseTree]
-&gt; ParseTree
-&gt; Bool
-&gt; [(ByteString, Int)]
-&gt; ParseTree
</span><a href="Text.ParseSR.html#parseExpr"><span class="hs-identifier hs-var">parseExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Operator ByteString (SRTree Int Double)]
</span><a href="#local-6989586621679048378"><span class="hs-identifier hs-var">prefixOps</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[[Operator ByteString (SRTree Int Double)]]
</span><a href="#local-6989586621679048377"><span class="hs-identifier hs-var">binOps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall {a}. [a]
</span><a href="#local-6989586621679048376"><span class="hs-identifier hs-var">binFuns</span></a></span><span> </span><span class="annot"><span class="annottext">forall {val}. Parser ByteString (SRTree Int val)
</span><a href="#local-6989586621679048375"><span class="hs-identifier hs-var">var</span></a></span><span>
</span><span id="line-197"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-198"></span><span>    </span><span id="local-6989586621679048376"><span class="annot"><span class="annottext">binFuns :: [a]
</span><a href="#local-6989586621679048376"><span class="hs-identifier hs-var hs-var">binFuns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-199"></span><span>    </span><span id="local-6989586621679048378"><span class="annot"><span class="annottext">prefixOps :: [Operator ByteString (SRTree Int Double)]
</span><a href="#local-6989586621679048378"><span class="hs-identifier hs-var hs-var">prefixOps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">forall a. ByteString -&gt; (a -&gt; a) -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#prefix"><span class="hs-identifier hs-var">prefix</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>                </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;abs&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;exp&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;log&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;sqrt&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;sinh&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sinh</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;cosh&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cosh</span></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;sin&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sin</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;cos&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cos</span></span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span>                </span><span class="hs-special">]</span><span>
</span><span id="line-205"></span><span>    </span><span id="local-6989586621679048377"><span class="annot"><span class="annottext">binOps :: [[Operator ByteString (SRTree Int Double)]]
</span><a href="#local-6989586621679048377"><span class="hs-identifier hs-var hs-var">binOps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var">binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;^&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall ix val. SRTree ix val -&gt; SRTree ix val -&gt; SRTree ix val
</span><span class="hs-identifier hs-var">Power</span></span><span> </span><span class="annot"><span class="annottext">Assoc
</span><span class="hs-identifier hs-var">AssocLeft</span></span><span class="hs-special">]</span><span>
</span><span id="line-206"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var">binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;/&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="annot"><span class="annottext">Assoc
</span><span class="hs-identifier hs-var">AssocLeft</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var">binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Assoc
</span><span class="hs-identifier hs-var">AssocLeft</span></span><span class="hs-special">]</span><span>
</span><span id="line-207"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var">binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot; + &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span> </span><span class="annot"><span class="annottext">Assoc
</span><span class="hs-identifier hs-var">AssocLeft</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a.
ByteString -&gt; (a -&gt; a -&gt; a) -&gt; Assoc -&gt; Operator ByteString a
</span><a href="Text.ParseSR.html#binary"><span class="hs-identifier hs-var">binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot; - &quot;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Assoc
</span><span class="hs-identifier hs-var">AssocLeft</span></span><span class="hs-special">]</span><span>
</span><span id="line-208"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-209"></span><span>    </span><span id="local-6989586621679048375"><span class="annot"><span class="annottext">var :: Parser ByteString (SRTree Int val)
</span><a href="#local-6989586621679048375"><span class="hs-identifier hs-var hs-var">var</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Parser ByteString
</span><span class="hs-identifier hs-var">string</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;X_&quot;</span></span><span>
</span><span id="line-210"></span><span>             </span><span id="local-6989586621679048335"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679048335"><span class="hs-identifier hs-var">ix</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. Integral a =&gt; Parser a
</span><span class="hs-identifier hs-var">decimal</span></span><span>
</span><span id="line-211"></span><span>             </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall ix val. ix -&gt; SRTree ix val
</span><span class="hs-identifier hs-var">Var</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679048335"><span class="hs-identifier hs-var">ix</span></a></span><span>
</span><span id="line-212"></span><span>          </span><span class="annot"><span class="annottext">forall i a. Parser i a -&gt; String -&gt; Parser i a
</span><span class="hs-operator hs-var">&lt;?&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;var&quot;</span></span><span>
</span><span id="line-213"></span></pre></body></html>